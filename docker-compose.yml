version: '3.8'

services:
  app:
    build:
      context: .
      dockerfile: .deploy/Dockerfile
    ports:
      - "${APP_PORT:-9033}:80"
    environment:
      APP_NAME: ${APP_NAME:-"DB Backuper"}
      APP_ENV: ${APP_ENV:-local}
      APP_DEBUG: ${APP_DEBUG:-true}
      APP_KEY: ${APP_KEY}
      APP_PORT: ${APP_PORT:-9033}
      DB_CONNECTION: sqlite
      DB_DATABASE: /var/www/html/database/database.sqlite
    volumes:
      - ./database:/var/www/html/database  # Mount database directory for SQLite persistence
      - ./storage:/var/www/html/storage  # Mount storage for logs and cache
